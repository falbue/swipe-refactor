# Общая концепция
Интерактивный веб-сервис для пошагового улучшения кода через свайп-интерфейс (как **Tinder** для рефакторинга).  
**Цель:** упростить **ревью**, обучение, рефакторинг через **микро-задачи**

# Ключевые компоненты
## Интерфейс карточек
- Свайп **вправо** → «Код хорош» (пропустить).
- Свайп **влево** → открыть редактор для правки.
- Случайный порядок показа (для вовлечённости).
- Индикатор прогресса: «Обработано: 42/150».

---
## Встроенный редактор
- Минималистичный редактор с подсветкой синтаксиса
- Подтверждение: кнопка «Сохранить» или свайп → изменения фиксируются локально

---
## Интеграция с Github
- OAuth-авторизация → выбор репозитория
- Анализ кода → генерация карточек
- Все правки сохраняются в **отдельную ветку** (напр., `code-swipe/fixes-2026-01-27`)
- Финал: создание PR (полный или частичный - по выбору пользователя)

---
## Прогресс и статистика
- Счётчики: всего карточек, пропущено, изменено, осталось
- История сессий
- Возможность паузы и возобновления работы

---
## Разбиение кода на карточки
- **Базовое правило:** 1 функция/метод = 1 карточка
- **Для больших функций:**
    - Вариант А: разбивать по логическим блокам (циклы, условия) через AST-анализ
    - Вариант Б: помечать как «Сложная функция» + предложить разбить вручную
- **Настройка:** пользователь задаёт уровень детализации («только топ-уровень», «все вложенные»)

---
## Отображение зависимостей
- При наведении на функцию: подсказка с сигнатурой (параметры, возврат)
- Кнопка «Показать код» → модальное окно с телом функции из другого файла
- Возможность «закрепить» зависимость для сравнения

## Рекомендации
- Карточку можно отправить публике. Тогда она сохранятся в публичный **Gist**, а ссылка идёт в базу данных
- Страница с рекомендациями. Показ карточек, которыми поделились люди. Если карточка нравится, она сохраняется в любимых

---
# Дополнительные идеи
- Геймификация: бейджи, «улучшено строк», рейтинг эффективности
- Коллаборация: совместная работа над репозиторием
- Поддержка языков: старт с JS/TS/Python → расширение
- Экспорт отчёта: «Что изменено», «Почему» (комментарии к правкам)

---
# Терминология

- **Карточка** = единица кода для оценки (функция/блок).
- **Сессия** = одна работа с репозиторием (от выбора до PR).
- **Ветка правок** = временная ветка для сохранения изменений.
- **Зависимость** = внешняя функция/класс, используемый в карточке.
- **Прогресс** = статус обработки карточек в рамках сессии.

---
# Проблемы

| №     | Проблема                                  | Ключевой вопрос                                                                                                       |
| ----- | ----------------------------------------- | --------------------------------------------------------------------------------------------------------------------- |
| 1     | Отслеживание прогресса при новых коммитах | Как синхронизировать сессию, если в основном репозитории появился новый коммит? Как не потерять уже сделанные правки? |
| **2** | Разбиение большого кода                   | Как корректно разбивать гигантские функции? Использовать AST? Как избежать разрыва логики?                            |
| **3** | Отображение внешних зависимостей          | Как быстро и безопасно загружать код из других файлов? Кэшировать? Использовать LSP?                                  |
| **4** | Управление конфликтами                    | Как обнаруживать и предупреждать о конфликтах при создании PR?                                                        |
| **5** | Сохранение состояния сессии               | Где хранить прогресс: в БД, в localStorage, в мета-файле в репозитории?                                               |
